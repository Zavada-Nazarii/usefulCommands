# üîç –ü–æ—à—É–∫ –∑–≥–∞–¥–æ–∫ `mail` —É JSON-—Ñ–∞–π–ª—ñ —Ç–∞ –æ—á–∏—Å—Ç–∫–∞ –ª–∞–ø–æ–∫

–¶–µ–π —Ñ–∞–π–ª –æ–ø–∏—Å—É—î –ø—Ä–æ—Ü–µ—Å –ø–æ—à—É–∫—É –≤—Å—ñ—Ö –∑–≥–∞–¥–æ–∫ –ø—Ä–æ `mail` —É JSON-—Ñ–∞–π–ª—ñ, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –æ–±‚Äô—î–∫—Ç—ñ–≤, —â–æ –º—ñ—Å—Ç—è—Ç—å —Ü–µ —Å–ª–æ–≤–æ, —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ª–∞–ø–æ–∫ —ñ–∑ –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤.

---

## üìÅ –í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ

–§–∞–π–ª —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```json
[
  { "id": 1, "email": "user1@mail.anozit.ru", "name": "User One" },
  { "id": 2, "email": "user2@site.com", "name": "User Two" },
  { "id": 3, "username": "mailman", "name": "Mail Man" }
]
```

---

## ‚úÖ –í–∏—Ç—è–≥ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —â–æ –º—ñ—Å—Ç—è—Ç—å `mail`, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `jq`

### –Ø–∫—â–æ JSON ‚Äî –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤:

```bash
cat file.json | jq '.[] | select(tostring | test("mail"))'
```

### –Ø–∫—â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫–ª–∞–¥–Ω—ñ—à–∞ –∞–±–æ —Ü–µ –ø—Ä–æ—Å—Ç–æ –æ–±'—î–∫—Ç:

```bash
cat file.json | jq 'select(tostring | test("mail"))'
```

### –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ä—è–¥–∫–∏ –∑ `mail` (–≤–∫–ª—é—á–Ω–æ –∑ –≤–∫–ª–∞–¥–µ–Ω–∏–º–∏ –ø–æ–ª—è–º–∏):

```bash
cat file.json | jq '.. | select(type == "string" and test("mail"))'
```

### –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ä—è–¥–∫–∏ –∑ `title` (–±–µ–∑ title, –ª–∏—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –ø–µ—Ä–µ–¥–∞–º–∏ —Ä—è–¥–∫–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–º—É):

```bash
cat file.json | jq -r '.. | objects | .title? // empty' | sed 's/$/,/'
```

---

## üßº –í–∏–¥–∞–ª–µ–Ω–Ω—è –ª–∞–ø–æ–∫ —ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `grep` + `tr`:

```bash
cat file.json | grep -oE '"mail[^"]+"' | tr -d '"'
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —á–µ—Ä–µ–∑ `sed`:

```bash
cat file.json | grep -oE '"mail[^"]+"' | sed 's/"//g'
```

### –ê–±–æ –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–æ:

```bash
sed -n 's/.*"\(mail[^"]*\)".*/\1/p' file.json
```

---

## üõ† –ó–∞—É–≤–∞–∂–µ–Ω–Ω—è

- –Ø–∫—â–æ `jq` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

### –î–ª—è Ubuntu/Debian:

```bash
sudo apt install jq
```

### –î–ª—è MacOS:

```bash
brew install jq
```

---

## üìå –ü—ñ–¥—Å—É–º–æ–∫

| –ú–µ—Ç–æ–¥         | –ö–æ–º–∞–Ω–¥–∞                                                                 |
|---------------|-------------------------------------------------------------------------|
| `grep + tr`   | `cat file | grep -oE '"mail[^"]+"' | tr -d '"'`                         |
| `jq`          | `cat file | jq -r '.. | select(type == "string") | select(test("mail"))'` |
| `sed`         | `sed 's/"//g'` –∞–±–æ `sed -n ...`                                         |

---
